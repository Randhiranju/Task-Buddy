{"ast":null,"code":"import _objectSpread from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useContext}from\"react\";import\"../page.css\";import ToastContext from\"../context/ToastContext\";// const API = \"http://localhost:5000\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var API=\"https://task-manager-server-fl58.onrender.com\";var ChnageImagePrompt=function ChnageImagePrompt(_ref){var closePrompt=_ref.closePrompt;// got the Id and Close Prompt func as prop\n// console.log(Id)\nvar _useContext=useContext(ToastContext),toast=_useContext.toast;var _useState=useState({//for storing the data\nimage:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleChange=function handleChange(e){var newData=_objectSpread({},data);newData[e.target.id]=e.target.value;setData(newData);};var handleSubmit=function handleSubmit(e){// sending the request Backend to delete the image \ne.preventDefault();// console.log(data.password)\naxios.put(\"\".concat(API,\"/updateProfilePic\"),{image:data.image},{headers:{\"authorization\":localStorage.getItem(\"token\")}}).then(function(res){toast.success(\"Image Updated\");closePrompt();}).catch(function(e){// console.log(e.response)\ntoast.error(e.response.data.message);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"innerBox\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Enter Image Link\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"image\",value:data.image,onChange:function onChange(e){handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{id:\"delete\",onClick:function onClick(e){handleSubmit(e);},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closePrompt,children:\"Cancel\"})]})})});};export default ChnageImagePrompt;","map":{"version":3,"names":["axios","useState","useContext","ToastContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","ChnageImagePrompt","_ref","closePrompt","_useContext","toast","_useState","image","_useState2","_slicedToArray","data","setData","handleChange","e","newData","_objectSpread","target","id","value","handleSubmit","preventDefault","put","concat","headers","localStorage","getItem","then","res","success","catch","error","response","message","children","className","type","onChange","onClick"],"sources":["C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/src/components/ChangeImagePrompt.jsx"],"sourcesContent":["\nimport axios from \"axios\";\nimport { useState, useContext } from \"react\";\nimport \"../page.css\"\nimport ToastContext from \"../context/ToastContext\";\n\n// const API = \"http://localhost:5000\";\nconst API = \"https://task-manager-server-fl58.onrender.com\";\n\nconst ChnageImagePrompt = ({ closePrompt }) => { // got the Id and Close Prompt func as prop\n    // console.log(Id)\n    const { toast } = useContext(ToastContext)\n    const [data, setData] = useState({   //for storing the data\n        image: \"\"\n    })\n\n    const handleChange = (e) => {\n        const newData = { ...data }\n        newData[e.target.id] = e.target.value\n        setData(newData)\n    }\n    const handleSubmit = (e) => {  // sending the request Backend to delete the image \n        e.preventDefault()\n        // console.log(data.password)\n        axios.put(`${API}/updateProfilePic`,\n            { image: data.image }, {\n            headers: { \"authorization\": localStorage.getItem(\"token\") }\n        })\n            .then((res) => {\n                toast.success(\"Image Updated\")\n                closePrompt()\n            }).catch((e) => {\n                // console.log(e.response)\n                toast.error(e.response.data.message)\n            })\n    }\n    return (\n        <>\n            <div className=\"innerBox\">\n                <form>\n                    <p>Enter Image Link</p>\n                    <input type=\"text\" id=\"image\" value={data.image} onChange={(e) => { handleChange(e) }} />\n                    <button id=\"delete\" onClick={(e) => { handleSubmit(e) }}>Confirm</button>\n                    <button onClick={closePrompt}>Cancel</button>\n                </form>\n            </div>\n\n        </>\n    )\n}\n\nexport default ChnageImagePrompt"],"mappings":"mRACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC5C,MAAO,aAAa,CACpB,MAAO,CAAAC,YAAY,KAAM,yBAAyB,CAElD;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACA,GAAM,CAAAC,GAAG,CAAG,+CAA+C,CAE3D,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAAwB,IAAlB,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAS;AAC7C;AACA,IAAAC,WAAA,CAAkBZ,UAAU,CAACC,YAAY,CAAC,CAAlCY,KAAK,CAAAD,WAAA,CAALC,KAAK,CACb,IAAAC,SAAA,CAAwBf,QAAQ,CAAC,CAAI;AACjCgB,KAAK,CAAE,EACX,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAFKI,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAIpB,GAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxB,GAAM,CAAAC,OAAO,CAAAC,aAAA,IAAQL,IAAI,CAAE,CAC3BI,OAAO,CAACD,CAAC,CAACG,MAAM,CAACC,EAAE,CAAC,CAAGJ,CAAC,CAACG,MAAM,CAACE,KAAK,CACrCP,OAAO,CAACG,OAAO,CAAC,CACpB,CAAC,CACD,GAAM,CAAAK,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIN,CAAC,CAAK,CAAG;AAC3BA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClB;AACA9B,KAAK,CAAC+B,GAAG,IAAAC,MAAA,CAAItB,GAAG,sBACZ,CAAEO,KAAK,CAAEG,IAAI,CAACH,KAAM,CAAC,CAAE,CACvBgB,OAAO,CAAE,CAAE,eAAe,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,CAC9D,CAAC,CAAC,CACGC,IAAI,CAAC,SAACC,GAAG,CAAK,CACXtB,KAAK,CAACuB,OAAO,CAAC,eAAe,CAAC,CAC9BzB,WAAW,CAAC,CAAC,CACjB,CAAC,CAAC,CAAC0B,KAAK,CAAC,SAAChB,CAAC,CAAK,CACZ;AACAR,KAAK,CAACyB,KAAK,CAACjB,CAAC,CAACkB,QAAQ,CAACrB,IAAI,CAACsB,OAAO,CAAC,CACxC,CAAC,CAAC,CACV,CAAC,CACD,mBACIrC,IAAA,CAAAI,SAAA,EAAAkC,QAAA,cACItC,IAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAD,QAAA,cACrBpC,KAAA,SAAAoC,QAAA,eACItC,IAAA,MAAAsC,QAAA,CAAG,kBAAgB,CAAG,CAAC,cACvBtC,IAAA,UAAOwC,IAAI,CAAC,MAAM,CAAClB,EAAE,CAAC,OAAO,CAACC,KAAK,CAAER,IAAI,CAACH,KAAM,CAAC6B,QAAQ,CAAE,SAAAA,SAACvB,CAAC,CAAK,CAAED,YAAY,CAACC,CAAC,CAAC,CAAC,CAAE,CAAE,CAAC,cACzFlB,IAAA,WAAQsB,EAAE,CAAC,QAAQ,CAACoB,OAAO,CAAE,SAAAA,QAACxB,CAAC,CAAK,CAAEM,YAAY,CAACN,CAAC,CAAC,CAAC,CAAE,CAAAoB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACzEtC,IAAA,WAAQ0C,OAAO,CAAElC,WAAY,CAAA8B,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3C,CAAC,CACN,CAAC,CAER,CAAC,CAEX,CAAC,CAED,cAAe,CAAAhC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}