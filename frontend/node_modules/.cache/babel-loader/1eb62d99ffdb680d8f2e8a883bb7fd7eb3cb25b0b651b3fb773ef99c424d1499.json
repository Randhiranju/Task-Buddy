{"ast":null,"code":"import _objectSpread from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import ToastContext from\"../context/ToastContext\";import spinner from\"../assets/Spinner-0.5s-164px.svg\";import pfl from\"../assets/images/logbg.jpg\";// const API =\"http://localhost:5000\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var API=\"https://task-manager-server-fl58.onrender.com\";var Login=function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useContext=useContext(ToastContext),toast=_useContext.toast;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var navigate=useNavigate(\"\");var APICALL=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(API+\"/login\",{email:data.email,password:data.password}).then(function(res){setLoading(false);toast.success(\"Login Success\");localStorage.setItem('token',res.data.token);navigate(\"/home\");}).catch(function(e){setLoading(false);// console.log(e.message)\ntoast.error(e.response.data.message);});case 2:case\"end\":return _context.stop();}},_callee);}));return function APICALL(){return _ref.apply(this,arguments);};}();var handleNavigate=function handleNavigate(){navigate(\"/register\");};var handleChange=function handleChange(e){var newdata=_objectSpread({},data);newdata[e.target.name]=e.target.value;setData(newdata);};var handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var call=APICALL();toast.promise(call,{loading:\"loading...\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"limiter\",children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(\"img\",{src:spinner,alt:\"spinner\"})}):'',/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login100-form validate-form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-logo\",children:/*#__PURE__*/_jsx(\"i\",{class:\"zmdi zmdi-account zmdi-hc-lg\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-34 p-t-27\",children:\"Log in\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"email\",name:\"email\",placeholder:\"Email\",value:data.email,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\",\"data-placeholder\":\"\\uF207\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Enter password\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"password\",name:\"password\",placeholder:\"Password\",value:data.password,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\",\"data-placeholder\":\"\\uF191\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact100-form-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-checkbox100\",id:\"ckb1\",type:\"checkbox\",name:\"remember-me\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-checkbox100\",htmlFor:\"ckb1\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",onClick:function onClick(e){return handleSubmit(e);},children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-t-90\",children:/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",style:{cursor:\"pointer\"},onClick:handleNavigate,children:\"Register\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"imlogo\",children:/*#__PURE__*/_jsx(\"img\",{src:pfl,className:\"pfl\",alt:\"logo\"})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"dropDownSelect1\"})]});};export default Login;","map":{"version":3,"names":["useState","useContext","axios","useNavigate","ToastContext","spinner","pfl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","Login","_useState","email","password","_useState2","_slicedToArray","data","setData","_useContext","toast","_useState3","_useState4","loading","setLoading","navigate","APICALL","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","then","res","success","localStorage","setItem","token","catch","e","error","response","message","stop","apply","arguments","handleNavigate","handleChange","newdata","_objectSpread","target","name","value","handleSubmit","preventDefault","call","promise","children","className","src","alt","class","type","placeholder","onChange","id","htmlFor","onClick","style","cursor"],"sources":["C:/Users/randh/OneDrive/Desktop/my_projects/Frontend/src/components/login.jsx"],"sourcesContent":["\nimport { useState, useContext } from \"react\"\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport ToastContext from \"../context/ToastContext\";\nimport spinner from \"../assets/Spinner-0.5s-164px.svg\";\nimport pfl from \"../assets/images/logbg.jpg\";\n// const API =\"http://localhost:5000\";\nconst API = \"https://task-manager-server-fl58.onrender.com\";\n\nconst Login = () => {\n\tconst [data, setData] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t})\n\tconst { toast } = useContext(ToastContext)\n\tconst [loading , setLoading] = useState(false)   \n\tconst navigate = useNavigate(\"\")\n\n\tconst APICALL = async () => {\n\t\tawait axios.post(API + \"/login\", {\n\t\t\temail: data.email,\n\t\t\tpassword: data.password\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetLoading(false)\n\t\t\t\ttoast.success(\"Login Success\")\n\t\t\t\tlocalStorage.setItem('token', res.data.token)\n\t\t\t\tnavigate(\"/home\")\n\t\t\t}).catch((e) => {\n\t\t\t\tsetLoading(false)\n\t\t\t\t// console.log(e.message)\n\t\t\t\ttoast.error(e.response.data.message)\n\t\t\t})\n\t}\n\tconst handleNavigate = () => {\n\t\tnavigate(\"/register\")\n\t}\n\tconst handleChange = (e) => {\n\t\tconst newdata = { ...data }\n\t\tnewdata[e.target.name] = e.target.value\n\t\tsetData(newdata)\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tsetLoading(true)\n\t\tconst call = APICALL()\n\t\ttoast.promise(call, {\n\t\t\tloading: \"loading...\"\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"limiter\">\n\t\t\t{loading?<div className=\"spinner\"><img src={spinner} alt=\"spinner\"/></div>:''}\n\t\t\t\t<div className=\"container-login100\">\n\t\t\t\t\t<div className=\"wrap-login100\">\n\t\t\t\t\t\t<form className=\"login100-form validate-form\">\n\t\t\t\t\t\t\t<span className=\"login100-form-logo\">\n\t\t\t\t\t\t\t\t<i class=\"zmdi zmdi-account zmdi-hc-lg\"></i>\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<span className=\"login100-form-title p-b-34 p-t-27\">\n\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<div className=\"wrap-input100 validate-input\">\n\t\t\t\t\t\t\t\t<input className=\"input100\" type=\"email\" name=\"email\" placeholder=\"Email\" value={data.email} onChange={(e) => handleChange(e)} />\n\t\t\t\t\t\t\t\t<span className=\"focus-input100\" data-placeholder=\"&#xf207;\"></span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate=\"Enter password\">\n\t\t\t\t\t\t\t\t<input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" value={data.password} onChange={(e) => handleChange(e)} />\n\t\t\t\t\t\t\t\t<span className=\"focus-input100\" data-placeholder=\"&#xf191;\"></span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"contact100-form-checkbox\">\n\t\t\t\t\t\t\t\t<input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n\t\t\t\t\t\t\t\t<label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n\t\t\t\t\t\t\t\t\tRemember me\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"container-login100-form-btn\">\n\t\t\t\t\t\t\t\t<button className=\"login100-form-btn\" onClick={(e) => handleSubmit(e)}>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"text-center p-t-90\">\n\t\t\t\t\t\t\t\t<span className=\"txt1\" style={{ cursor: \"pointer\" }} onClick={handleNavigate}>\n\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"imlogo\">\n\t\t\t\t\t<img src={pfl} className=\"pfl\" alt=\"logo\"/>\t\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\t\t\t<div id=\"dropDownSelect1\"></div>\n\t\t</>\n\t)\n}\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}